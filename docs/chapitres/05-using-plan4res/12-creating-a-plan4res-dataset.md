# Creating a plan4res dataset

A plan4res dataset is composed of a number of ‘static’ CSV files (where static means that these data do not include timeseries) describing the power system (“static” data) and of a number of timeseries (in particular the power demand, inflows, RES potentials hourly – and stochastic- timeseries).

- **The static CSV plan4res input data files**: see the list of data required in the document plan4resInputData[documentation/plan4resInputData.pdf at main · plan4res/documentation](https://github.com/plan4res/documentation/blob/main/plan4resInputData.pdf) and a description of the format of the static csv files in the document plan4resDataFormats16.

There are 2 ways of creating the static CSV files:

- You can manually create the required csv_files[documentation/plan4resDataFormatsV2.pdf at main · plan4res/documentation](https://github.com/plan4res/documentation/blob/main/plan4resDataFormatsV2.pdf) in P4R_DATA_LOCAL/data/YourDataset/csv_simul or P4R_DATA_LOCAL/data/YourDataset/csv_invest

- You can create the csv_files from a dataset in IAMC format (see example in toyDataset/IAMC) using the plan4res command p4r CREATE YourDataset. This requires that a IAMC data excel file named YourDataset.xlsx is available in P4R_DATA_LOCAL/data/YourDataset/IAMC

- **The timeseries** may be historics or forecasts. Most of them can be found in the Copernicus Climate Change Service Data Store[Climate Data Store](https://cds.climate.copernicus.eu/).

See section 6.3 for the formats of the data files.

This data file(s), which in general has(have) been created using the GENeSYS-MOD linkage scripts, and contains a number of inputs and outputs from GENeSYS-MOD, follows the common IAMC format[Data exchange format and template](https://zenodo.org/records/5521098). It thus describes a number of scenarios for the transition of the energy system in a number of regions. It is composed of the following columns: Model, Scenario, Region, Variable, Unit and a number of columns corresponding to years, plus an optional column subannual.

Each row gives, for each of the years, the values of a the variable whose name is in column *Variable*, in the region named in column *Region*, for the scenario named in column *Scenario*, generated by the model named in column *Mode, l* using the unit specified in the column *Unit* for the different years defined in the columns named by year indexes. When there exist a *subannual* column, the value of the variable is valid only for the subset of the years such as defined in column *subannual*.

A typical IAMC file computed out of GENeSYS-MOD shall contain the following variables (see the definition of the variables in the nomenclature[openentrance/definitions/variable at main · openENTRANCE/openentrance · GitHub](https://github.com/openENTRANCE/openentrance/tree/main/definitions/variable)), for each of the considered regions and years:

- Final Energy|Electricity

- Final Energy|Electricity|<component of final energy electricity>, where |<component of final energy electricity> is among Cooking, Cooling, Heating, Transportation, Electrolizer….. (representing the different uses of electricity)

- Network|Electricity|Maximum Flow

- Network|Electricity|Expansion Cost

- Capacity|Electricity|<Electricity generation and storage technologies>

- Variable Cost (incl. Fuel Cost)|Electricity|<Electricity generation technologies>

- Capital Cost|Electricity|<Electricity generation technologies>

- Fixed Cost|Electricity|<Electricity generation technologies>

- Lifetime|Electricity|<Electricity generation and storage technologies>

- Emission Rate|CO2|Electricity|<Electricity generation technologies>

- Secondary Energy|Electricity|<Electricity generation technologies>

- Charging Efficiency|Electricity|<Electricity storage technologies>

- Discharging Efficiency|Electricity|<Electricity storage technologies>

- Maximum Storage|Electricity|<Electricity storage technologies>

The possible electricity technologies are listed in [openentrance/definitions/variable/tag_electricity_input_types.yaml at main · openENTRANCE/openentrance · GitHub](https://github.com/openENTRANCE/openentrance/blob/main/definitions/variable/tag_electricity_input_types.yaml), while the possible electricity storage technologies are listed in [openentrance/definitions/variable/tag_storage_types.yaml at main · openENTRANCE/openentrance · GitHub](https://github.com/openENTRANCE/openentrance/blob/main/definitions/variable/tag_storage_types.yaml).

Note that it is possible to use more than one IAMC file to create a dataset. Some other variables such as variables to define dynamic constraints for individual plants may be provided in these IAMC files, such as:

- Data related to other coupling constraints (reserves….):

  - Network|Electricity|Reserve|Requirement|Frequency Containment

  - Network|Electricity|Reserve|Requirement|Automatic Frequency Restoration

  - Network|Electricity|Requirement|Inertia

- Data related to the definition of individual power plants and their dynamic constraints:

  - Maximum Active Power|Electricity|<Electricity generation and storage technologies>

  - Minimum Active Power|Electricity|<Electricity generation and storage technologies>

  - Start-Up Cost|Electricity|<Electricity generation technologies>

  - Minimum Off Duration|Electricity|<Electricity generation and storage technologies>

  - Minimum On Duration|Electricity|<Electricity generation and storage technologies>

- Data related to provision of system services by technologies

  - Inertia|Electricity|<Electricity generation technologies>

  - Frequency Containment Reserve|Electricity|<Electricity generation and storage technologies>

  - Automatic Frequency Restoration Reserve|Electricity|<Electricity generation and storage technologies>

- Data related to outages

  - Forced Outage Rate|Electricity|<Electricity generation technologies>

  - Planned Outage Rate|Electricity|<Electricity generation technologies>

  - Mean Outage Duration|Electricity|<Electricity generation technologies>

- Data necessary if the variable cost of a technology is computed from its efficiency and the price of the used fuel

  - Efficiency|<Electricity generation technologies>

  - Price|<fuels>

The following operations must be done:

- **Create your dataset repo**: P4R_DIR_LOCAL/data/YourDataset/

- **Create the IAMC rep**o: P4R_DIR_LOCAL/data/YourDataset/IAMC/

- **Rename your IAMC data excel file** (optional) as YourDataset.xlsx and **copy it** to P4R_DIR_LOCAL/data/YourDataset/IAMC/ ; if the dataset is created from multiple IAMC files, all must be located in P4R_DIR_LOCAL/data/YourDataset/IAMC/.

- **Create the directory for storing the timeseries**: P4R_DIR_LOCAL/data/YourDataset/TimeSeries/ , create or get the timeseries in the requested format and copy them there.

- **Create the settings directory**: P4R_DIR_LOCAL/data/YourDataset/settings

- **Create the configuration file:**

  - **settingsCreatePlan4res_simul.yml and/or settingsCreatePlan4res_invest.yml** (see section 5.2.2.1)

  - **DictTimeSeries.yml** (see section 5.2.2.2)

  - **VariablesDictionnary.yml** (see section 5.2.2.3)

The 2 configuration files must be in P4R_DIR_LOCAL/data/YourDataset/settings ; you may start from the examples in P4R_DIR_LOCAL/data/toyDataset/settings

- **Run the p4r (or sp4r) command:**

**p4r CREATE YourDataset****sp4r CREATE YourDataset -n $N**the option **-M invest** must be added if you wish to create a dataset for a Capacity Expansion (CEM) run.

- **Check the resulting csv files** in P4R_DIR_LOCAL/data/YourDataset/csv_simul or in P4R_DIR_LOCAL/data/YourDataset/csv_invest. You may now **edit** those files with any text editor or with Excel (recommended) and make any wished changes.

The configuration files settingsCreatePlan4res_simul.yml (for creation of a dataset without possibility of investments) or settingsCreatePlan4res_invest.yml (for creation of a dataset without possibility of investments) define how the plan4res static CSV data will be created out of the IAMC files.

You may edit this file with any text editor. Change the following parameters:

- **scenarios**: name of the scenario use from IAMC data from the Scenario column);

- **years**: year to use from IAMC data from the Years columns);

- **listregionsGET**: list of the regions to extract from IAMC data (Region column);

- **aggregateregions**: defines the user-requested aggregations of regions. Here you can choose to aggregate some regions together. These regions must share a common boarder. You shall choose for each aggregate a name and a list of regions. A region can belong to only one aggregate.

- **partition**: defines the partitions of the regions to be applied to the coupling constraints, defined in the ‘Couplin Constraints’ section. At least one partition (corresponding to the smallest regions, and to the power demand constraint) must be defined. You can choose the names of each partition and you have to provide the list of regions (which can include aggregates) for each partition. If you define more than one level, the levels must be given in the following order: first the level corresponding to the Power demand constraint, then other levels (with bigger regions). See the partition section in the plan4resInputData[plan4res/documentation: plan4res documentation](https://github.com/plan4res/documentation) document.

- **technos**: list of the technologies to include. These technologies must be present in the Variables in the IAMC file. Technologies are separated into subgroups:

  - **thermal** corresponds to technologies which are modelled as thermal plants (ThermalUnit in SMS++), in particular it includes the thermal fossil plants (with and without CCS), but also the nuclear plants and the geothermal plants.

  - **reservoir** corresponds to units modelled as seasonal storages (HydroUnit in SMS++). It corresponds to Hydro|Reservoir in the IAMC nomenclature.

  - **hydrostorage**: corresponds to hydro units which are modelled as short term storages (BatteryUnit in SMS++). It corresponds to Hydro|Pumped Storage in the IAMC nomenclature.

  - **battery**: corresponds to all other units which are modelled as short term storage (BatteryUnit in SMS++). It corresponds to Battery in the IAMC nomenclature.

  - **res**: corresponds to the variable renewable generation (IntermittentUnit in SMS++). It corresponds to Solar and Wind technologies in the IAMC nomenclature.

  - **runofriver**: corresponds to the Run of river technologies (modelled as IntermittentUnits in SMS++). It corresponds to Hydro|Run of River in the IAMC nomenclature.

  - **demandresponseloadshifting**: corresponds to flexible assets with load shifting capacity. They are modelled as BatteryUnits in SMS++, with additional constraints. It corresponds to residential load shifting in the current IAMC nomenclature (see [openentrance/definitions/variable/tag_residential_loadshifting_assets.yaml at main · openENTRANCE/openentrance](https://github.com/openENTRANCE/openentrance/blob/main/definitions/variable/tag_residential_loadshifting_assets.yaml)), but some new categories may be defined in the future.

- **StochasticScenarios**: list of stochastic scenarios to include in the plan4res runs. Note that here scenario has a different meaning than in the IAMC data. It corresponds to the indexes of the different stochastic timeseries. The timeseries may be stochastic for data related to the power demand, the hydro inflows to reservoirs, the availability of thermal plants and the load factors of intermittent generation (including run of river). Each timeseries must comprise the same list of scenario indexes. The StochasticScenarios section of this setting file is meant for selecting a subset of these indexes. Indexes can be numbers or names.

- **CouplingConstraints**: (describes the coupling constraints – see the coupling constraints section in the plan4resInputData document); Coupling contraints can be : Demand, Primary, Secondary, Inertia, CO2 or any other pollutant ; **Partition** defines the level at which the coupling constraint applies (and for the Power Demand it must correspond to the first partition, which must be the partition with the smallest regions). For each constraint, the partition is the level to which this constraint is applied. **MaxPower** and **Cost** (Budget for CO2) are used to create the non-served demand fictive asset, and **SumOf** gives the different pieces of the constraint (e.g. the Power Demand can be computed out of the different uses of electricity; in the example in toyDataset, Power Demand is composed of the demands for cooking, heating, electric vehicle and other uses).

- **ParametersCreate** is a section dedicated to parameters for creation of the plan4res dataset. It includes the following:

  - **invest**: defines wether data for capacity expansion are created or not. If ‘yes’, create a dataset for the Capacity Expansion model, ie include technologies for which the capacity is zero with a low capacity equal to **zerocapacity.** In practtce, for this value is ‘yes’ in settingsCreatePlan4res_invest.yml and ‘No’ in settingsCreatePlan4res_simul.yml

  - **zerocapacity**: defines a capacity in MW under which it is considered to be 0. Also used to add rows for technologies which are not in the scenario data (or are there with 0 for their capacity) so that they can be included in the capacity expansion run

  - **DynamicConstraints**: if 'no' the dataset will not include dynamic constraints: MinPower is set to 0, StartUpCost, MinUp and Down duration are not used. If ‘yes’ you must include the data for creating these constraints in the IAMC file. You may also create the csv files without dynamic constraints and further edit them.

  - **reservoir**: defines 2 parameters for the seasonal storage:

    - **coordinated**: this value should not be changed. It will in the future allow to create datasets where the seasonal storages will be optimized independently, but this functionality is not yet present.

    - **minpowerMWh**: defines a minimum capacity under which the reservoir is considered to be too small for being managed as seasonal storage. It will be treated as a short term storage

  - **InitialFillingrate**: initial filling rates of reservoirs per regions (regions in the IAMC data file or aggregates as defined above). This is used to create the Initial Volume of reservoirs, which you may later change in the csv files if this data is available.

  - **PumpingEfficiency**: this section is used to define the efficiency of pumpig for all storage technologies when the corresponding variables (Charging Efficiency) are not available in the IAMC file.

  - **Volume2CapacityRatio** : this section is used to compute the MaxPower or MaxVolume of storage units when these variables are not available in the IAMC data. In practice, if the capacity is available for a given storage technology but the maximum storage is not, the later will be computed as Maximum Storage / Volume2CapacityRatio

  - **CapacityExpansion**: This section is needed only in the case where **invest** is set to ‘yes’. For each category of assets -same segmentation as in the definition of **technos**- (**thermal**, **hydrostorage**, **battery**, **res**, **runofriver** – note that reservoir cannot be invested), it gives the list of technologies which can be invested. For each of those technologies, you must specify **MaxAdd** (the maximum capacity in MW that can be added) and **MaxRet** (the maximum capacity in MW that can be decommissioned); you may also specify **InvestmentCost** (in €/MW) if it is not available in the IAMC data. The **interconnections** category corresponds to possible investments in interconnection lines between regions. For this last category, the MaxAdd and MaxRet must be given as multiplication factors (eg MaxAdd=2 means that the capacity may be tripled, MaxRet=0 means that no capacity can be decommissioned).

  - **conversions**: This section specify all the conversion rules which must be applied for creating the plan4res dataset (for which the convention is that the units are MW, MWh, €, €/MW, €/MWh, tons). It gives the list of units which require conversion and for each unit, it gives the unit to which it must be converted. Most conversions are already defined in the pyam[pyam: analysis and visualization of integrated-assessment & macro-energy scenarios — pyam 3.0.0 documentation](https://pyam-iamc.readthedocs.io/en/stable/index.html) package which is used in the CREATE module. For those which are not, the conversion **factor** has to be specified.

  - **MultFactor**: this section is used to specify the technologies for which the timeseries loadfactores must be applied to an energy instead of a capacity. In practice, this is required for run of river for which maximum power scenarios are computed by multiplying capacity*loadfactors*number of hours in the year

  - **Thermal**: this section is used to define some parameters for the units of the ‘thermal’ category.:

    - **NbUnitsPerTechno**: If the user requires to simulate individual plants with their dynamic constraints, this value must be set to any number above 1. In that case the IAMC data must include variables defining these dynbamic constraints, in particular the Maximum Power to use to define an individual plant per technology. The real number of units will then be computed as Capacity/MaxPower ; If NbUnitsPerTechno is set to 1, aggregates per technologies will be used.

  - **variablecost**: if ‘Price’ is set here instead of Cost, then the variable costs for the list of technologies defined under **fuel** will be computed as the product of the corresponding variables Price (for the corresponding fuel) and Efficiency (for the technology)

- **the datagroup section** lists the different IAMC files that can be used

  - **listdatagroups**: list of subsections of the datagroup section, each one corresponding to a different IAMC file

  - **datagroups** shall contain a subsection per datagroup, with the following parameters:

    - (optional) **inputdata**: name of the excel file corresponding to the datagroup. If only one datagroup is used with an excel file named by the name of the dataset, this entry is not required.

    - **model:** name of the model (from Model column)

    - **regions:** this subsection allows to define:

      - **global:** the name of the region which is used for global variables (i.e. variables which do not depend on the region. In an IAMC file, these variable may be defined for e.g. the region ‘World’ or for one chosen region among those available)

      - **local:** this subsection allows to list additional regions which are not in the regions list in the main section, and should be added to the list of regions for data filtering. It can also be used if the current IAMC file is using different names for the regions, in particular for the countries, such as the countries_ISO3 or countries_ISO2 names (in this case the countries names will be converted)

    - **subannual:** used to define wither the current IAMC file is composed of data at annual granularity, or of data at subannual granularity (meaning there exist a column ‘subannual’.

    - **listvariables:** this subsection is used to define the variables to use in the IAMC files. It is composed of 2 parts: the variables related to the coupling constraints (**coupling** subsection) and the variables related to the technologies (**techno** subsection):

      - **coupling**: the variables are separated in categories, depending on the treatments to be done when aggregating data for a number of regions. For each category, you must provide the list of variables which you wish to use. These variables must be present in the related IAMC file. The categories may be:

        - **global**: this corresponds to global variables in the sense that their value is the same for all regions. The name of the corresponding region is the one defined above.

        - **add**: this corresponds to variables that must be added in an aggregation process (e.g. the installed capacity of a given technology)

        - **mean**: this corresponds to variables that must be averaged in an aggregation process (e.g. the variable cost per MWh of a given technology)

        - **flow**: this only applies to the **coupling** section. It corresponds to the variable applying to interconnections between regions (e.g. the maximum flow)

      - **techno**: this section is separated into sub sections corresponding to the technologies types (**thermal**, **reservoir**, **hydrostorage**, **battery**, **res** and **demandresponseloadshifting**), and each of these is separated as shown in coupling among **add**, **mean**, **global**

The configuration file DictTimeSeries.yml defines which timeseries will be used at which level of the plan4res dataset. Recall that the plan4res CSV files include all static data, but also the names of the timeseries. You may edit this file with any text editor.

This file is organized with one section per plan4res CSV file as follows:

- **ZV**: this section corresponds to the coupling constraints. It must include a subsection per component of the ActivePowerDemand such as defined in settingsPlan4resCreate_XXX.yml, under **SumOf** in the **CouplingConstraints** section. For each of those components, there must be one entry per region giving the name of the timeseries which will be used.

- **SS**: this section corresponds to the seasonal storages. In general it only includes one subsection: **Inflows**. For each subsection (if more than one), there must be one entry per region giving the name of the timeseries which will be used.

- **RES**: this section corresponds to the potentials for the variable renewable energy technologies as well as for the run of river. For each technology (corresponding to the generation technologies as defined in the IAMC nomenclature (e.g. Solar|PV|Rooftop|Commercial), there must be a subsection. For each subsection (if more than one), there must be one entry per region giving the name of the timeseries which will be used.

One timeseries can be referenced many times (for example in the case where only one timeseries will be used for all the regions, or for all the sub categories of a technology).

The configuration file VariablesDictionnary.yml is used to define the correspondence between the native variables of plan4res and the variables defined in the IAMC nomenclature. The plan4res CSV files are using the native variable names plan4res (and this is also the case for the results). This file can be seen as a dictionary of variable names. It is composed of 2 sections:

- **Output**: this section is used in the POSTTREAT module, for converting plan4res native outputs in IAMC format files using variable names from the IAMC nomenclature. This section is described later in this document.

- **Input**: this section is organized in one subsection per CSV file:

  - VarIN corresponding to IN_Interconnections.csv. It must define the following variables:

    - MaxPowerFlow

    - InvestmentCost

  - VarZV corresponding to ZV_ZoneValues.csv. It must define the variables used for computing the different components of the power demand and may also include the variables related to system services (such as defined in SumOf in the section CouplingConstraints of settingsCreatePlan4res_XXX.yml)

  - VarTU corresponding to TU_ThermalUnits.csv. It must define the following variables:

    - Capacity

    - VariableCost

    - FixedCost

    - InvestmentCost

    - CO2Rate

    - Energy

    - LifeTime

    - And a list of optional variables depending on the needs of the user.

  - VarSS corresponding to SS_SeasonalStorage.csv. It must define the following variables:

    - MaxPower

    - MaxVolume

    - Inflows (in general the annual inflows are not available in IAMC data, which is why it is usual to use the secondary energy generated by the technology instead)

    - Energy

    - And a list of optional variables depending on the needs of the user.

  - VarSTS|Hydro corresponding to the hydropower (Pumped Storage) in STS_ShortTermStorage.csv. It must define the following variables:

    - MaxPower

    - MaxVolume

    - PumpingEfficiency or ChargingEfficiency

    - (optional) TurbineEfficiency or DischargingEfficiency or RoundTripEfficiency

    - FixedCost

    - InvestmentCost

    - Energy

    - LifeTime

    - And a list of optional variables depending on the needs of the user.

  - VarSTS|Battery corresponding to the other short term storages in STS_ShortTermStorage.csv. It must define the following variables:

    - MaxPower

    - MaxVolume

    - PumpingEfficiency or ChargingEfficiency

    - (optional) TurbineEfficiency or DischargingEfficiency or RoundTripEfficiency

    - FixedCost

    - InvestmentCost

    - Energy

    - LifeTime

    - And a list of optional variables depending on the needs of the user.

  - VarRES corresponding to RES_RenewableUnits.csv. It must define the following variables:

    - MaxPower

    - Energy

    - FixedCost

    - InvestmentCost

    - LifeTime

    - And a list of optional variables depending on the needs of the user.

Before running the script, the user must:

- Create the following subrepositories within p4r-env/data/local/MY_STUDY:

  - IAMC

  - settings

  - TimeSeries

- Copy the settings files (settings* .yml) from p4r-env/python/plan4res-scripts/ (these files were retrieved during the installation of plan4res) to p4r-env/data/local/MY_STUDY/settings and edit them as wished. The main edits to be made are the following (see details in chapter )

  - settingsCreateInputPlan4res_*.yml:

    - **scenarios:** name of the genesys-mod scenario to be used

    - **years:** selected year for the run

    - **listregionsGET :** list of the regions in genesys-mod outputs

    - **aggregateregions :** only if you wish to define aggregations

    - **partition :** usually composed of a row ‘Countries’ containing the list of regions in your dataset (ie aggregated regions and remaining regions which are not part of an aggregation)

    - **technos :** should be the list of technos in the genesys-mod dataset

    - **StochasticScenarios :** list of scenarios in your timeseries. If deterministic, this list should comprise only one element

    - **CouplingConstraints :** list of coupling constraints you wish to account for. The minimal requirement is ActivePowerDemand, linked to the partition with the highest granularity.

    - **ParametersCreate:CapacityExpansion :** only for runs with capcity expansion, defines for each technology for whihc it is allowed to invest, the maximum invested (or retired) capacity

    - **ParametersCreate:InitialFillingrate :** level of the seasonal reservoirs at beginning of case study, in %

  - settings_format_*.yml:

    - **Calendar**:

      - Dayfirst: True means that dates are given in the format dd/mm/yyyy HH:MM:SS, while False means they are in the format mm/dd/yyyy HH:MM:SS

    - **BeginTimeSeries** and **EndTimeSeries**: dates of start and end of the available timeseries

    - **BeginDataset** and **EndDataset**: dates of start and end of your run

    - **SSVTimeStep**: duration of the timestep for the SSV (usually one week)

    - **TimeStep**: duration of the timestep for the simulation(usually one hour)

    - **Parameters**: list of parameters for creating the dataset. In particular the list of scenarios must be checked

  - settingsPostTreatPlan4res_*.yml:

    - **BeginTreatData** and **EndTreatData**: subperiod of the simulation results on which to postreat the results

    - **Graphs**: defines the size of graphs and how they are set on each sheet (in particular for graphs composed of sub graphs per region)

    - Names of scenario and report

    - **Technos**: for each techno in the dataset, defines the colorcode

    - **technosAggr**: defines user-chosen aggregations of technologies as lonked color codes

    - **pumping**: MUST include the list of technos which may pump

- Copy the results of a genesys-mod (IAMC format) run to p4r-env/data/local/MY_STUDY/IAMC

- Get or create the necessary timeseries (generally load profiles for electricity demand, load factors for renewable generation and inflows to reservoirs....) and store them in p4r-env/data/local/MY_STUDY/TimeSeries

- Copy the SMS++ configuration files (sddp_solver.txt, BSPar-Investment.txt, sddp_greedy.txt, sddp_greedy_investment.txt and uc_solverconfig.txt) (those files were retrieved during the plan4res installation) to p4r-env/data/local/MY_STUDY/settings/

This module uses the python script CreateInputPlan4res.py (in P4R_DIR/p4r-env/scripts/python/plan4res-scripts).

This script creates the csv files in plan4res data format (see section 6.3) out of results of GENeSYS-MOD in IAMC format (see section 6.1)

CreateInputPlan4res.py requires 3 configuration files:

- settingsCreateInputPlan4res.yml (see section 5.2.2.1) which is the main configuration file.

- VariablesDict.yml : contains the list of variables to retrieve and the correspondence between the plan4res and IAMC variable names (see section 5.2.2.3)

- TimeSeriesDict: contains the list of timeseries to use for the different stochastic variables (described in the main configusation file) and regions (see section 5.2.2.2)

The following operations are done for creating a plan4res dataset corresponding to one scenario and one year (multiple datasets can be created in sequence):

1. 1

  

  

2. Read annual data for the given year and scenario, using the list of variables and regions to retrieve, given in the configuration file (settingsCreateInputPlan4res.yml), together with their locations (the data can be separated in multiple data sources).

  Data conversion following conversion rules in the configuration file

  Regional aggregation for both annual data and timeseries

  Creation of all csv files in pla4res data format.